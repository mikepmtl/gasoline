<?php
if ( ! function_exists('todo_icon') )
{
  function todo_icon($type = null)
  {
    switch ( $type )
    {
      default:
      break;
      case 'success':
        return 'ok-sign';
      break;
      case 'danger':
        return 'ban-circle';
      break;
      case 'warning':
        return 'bell-alt';
      break;
      case 'info':
        return 'info-sign';
      break;
    }
  }
}
?>

<div id="messages">
<?php if ( isset($messages) && $messages ) : ?>
  <?php foreach ( $messages as $message ) : ?>
    <div class="alert alert-<?php echo $message->get_type(); ?> alert-dismissable<?php echo ( $message->get_heading() ? ' alert-block' : ''); ?>">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <?php if ( $heading = $message->get_heading() ) : ?>
        <h4><i class="fa fa-<?php echo todo_icon($message->get_type()); ?>"></i>&nbsp;<?php echo $heading; ?></h4>
        <p><?php echo $message->get_message(); ?></p>
      <?php else : ?>
        <i class="fa fa-<?php echo todo_icon($message->get_type()); ?>"></i>&nbsp;<?php echo $message->get_message(); ?>
      <?php endif; ?>
    </div>
  <?php endforeach; ?>
<?php endif; ?>
</div>
